@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Loop Brand Design System */
@layer base {
  :root {
    /* Loop Brand Colors */
    --russian-violet: 261 66% 21%;
    --russian-violet-light: 261 66% 30%;
    --eerie-black: 0 0% 11%;
    --tropical-indigo: 245 90% 82%;
    --jordy-blue: 215 98% 77%;
    --lavender: 231 76% 92%;
    --mauve: 280 72% 87%;
    --thistle: 290 77% 89%;
    
    /* Semantic Tokens */
    --background: 0 0% 98%;
    --foreground: 0 0% 11%;
    
    --card: 0 0% 100%;
    --card-foreground: 0 0% 11%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 11%;
    
    --primary: 261 66% 21%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 231 76% 92%;
    --secondary-foreground: 261 66% 21%;
    
    --muted: 231 30% 95%;
    --muted-foreground: 0 0% 40%;
    
    --accent: 245 90% 82%;
    --accent-foreground: 261 66% 21%;
    
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;
    
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    
    --info: 215 98% 77%;
    --info-foreground: 261 66% 21%;
    
    --border: 231 30% 88%;
    --input: 231 30% 88%;
    --ring: 261 66% 21%;
    
    --radius: 0.75rem;
    
    /* Sidebar */
    --sidebar-background: 261 66% 21%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 261 66% 21%;
    --sidebar-accent: 261 66% 30%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 261 50% 35%;
    --sidebar-ring: 245 90% 82%;
    
    /* Chart colors */
    --chart-1: 261 66% 21%;
    --chart-2: 245 90% 82%;
    --chart-3: 215 98% 77%;
    --chart-4: 280 72% 87%;
    --chart-5: 290 77% 89%;
    
    /* Status colors */
    --status-submitted: 142 76% 36%;
    --status-in-progress: 215 98% 77%;
    --status-not-started: 220 14% 60%;
    --status-late: 38 92% 50%;
    --status-error: 0 72% 51%;
  }

  .dark {
    --background: 0 0% 7%;
    --foreground: 0 0% 95%;
    
    --card: 0 0% 10%;
    --card-foreground: 0 0% 95%;
    
    --popover: 0 0% 10%;
    --popover-foreground: 0 0% 95%;
    
    --primary: 245 90% 82%;
    --primary-foreground: 261 66% 21%;
    
    --secondary: 261 30% 25%;
    --secondary-foreground: 0 0% 95%;
    
    --muted: 261 20% 18%;
    --muted-foreground: 0 0% 65%;
    
    --accent: 261 66% 30%;
    --accent-foreground: 0 0% 95%;
    
    --border: 261 20% 25%;
    --input: 261 20% 25%;
    --ring: 245 90% 82%;
    
    --sidebar-background: 0 0% 5%;
    --sidebar-foreground: 0 0% 95%;
    --sidebar-accent: 261 30% 20%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground font-poppins antialiased;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-poppins font-semibold tracking-tight;
  }
}

@layer components {
  .glass-card {
    @apply bg-card/80 backdrop-blur-sm border border-border/50 shadow-lg;
  }
  
  .status-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-medium;
  }
  
  .status-submitted {
    @apply bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400;
  }
  
  .status-in-progress {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400;
  }
  
  .status-not-started {
    @apply bg-slate-100 text-slate-600 dark:bg-slate-800/50 dark:text-slate-400;
  }
  
  .status-late {
    @apply bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400;
  }
  
  .status-error {
    @apply bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400;
  }
  
  .indicator-chip {
    @apply inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium;
  }
  
  .indicator-clinical {
    @apply bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400;
  }
  
  .indicator-experience {
    @apply bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400;
  }
  
  .indicator-workforce {
    @apply bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400;
  }
  
  .kpi-card {
    @apply p-4 rounded-2xl bg-gradient-to-br from-card to-muted/30 border border-border/50 transition-all duration-300 hover:shadow-lg hover:border-primary/20 cursor-pointer;
  }
  
  .kpi-value {
    @apply text-3xl font-bold text-foreground;
  }
  
  .kpi-delta-positive {
    @apply text-emerald-600 dark:text-emerald-400;
  }
  
  .kpi-delta-negative {
    @apply text-red-600 dark:text-red-400;
  }
  
  .sidebar-nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl text-sidebar-foreground/80 hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all duration-200;
  }
  
  .sidebar-nav-item-active {
    @apply bg-sidebar-accent text-sidebar-foreground font-medium;
  }

  /* App density: emulate ~80% browser zoom (Chrome-friendly) */
  .app-zoom {
    --app-zoom: 0.8;
    zoom: var(--app-zoom);
  }

  @supports not (zoom: 1) {
    .app-zoom {
      transform: scale(var(--app-zoom));
      transform-origin: top left;
      width: calc(100% / var(--app-zoom));
    }
  }
}

@layer utilities {
  /* When using zoom/scale, compensate height so full-viewport layouts still reach the bottom. */
  .app-zoom-fill {
    height: calc(100svh / var(--app-zoom));
    min-height: calc(100svh / var(--app-zoom));
  }

  /* Ensure full-height helpers honor the zoom compensation inside zoomed layouts. */
  .app-zoom :is(.h-svh) {
    height: calc(100svh / var(--app-zoom));
  }

  .app-zoom :is(.min-h-svh) {
    min-height: calc(100svh / var(--app-zoom));
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-out forwards;
  }
  
  .animate-slide-up {
    animation: slideUp 0.4s ease-out forwards;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.3s ease-out forwards;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from { 
      opacity: 0;
      transform: translateY(20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  .gradient-primary {
    @apply bg-gradient-to-br from-primary to-primary/80;
  }
  
  .gradient-accent {
    @apply bg-gradient-to-br from-accent to-accent/80;
  }
  
  .gradient-card {
    @apply bg-gradient-to-br from-card via-card to-muted/20;
  }
}
